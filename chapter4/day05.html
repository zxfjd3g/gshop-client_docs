<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>day05 | 尚品汇商城-前台PC</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="shortcut icon" type="image/x-icon" href="/gshop-client_docs/favicon.ico">
    <meta name="description" content="尚硅谷前端研究院">
    
    <link rel="preload" href="/gshop-client_docs/assets/css/0.styles.9c560553.css" as="style"><link rel="preload" href="/gshop-client_docs/assets/js/app.daf59d08.js" as="script"><link rel="preload" href="/gshop-client_docs/assets/js/2.1de92273.js" as="script"><link rel="preload" href="/gshop-client_docs/assets/js/43.fd3ec932.js" as="script"><link rel="prefetch" href="/gshop-client_docs/assets/js/10.4b49014d.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/11.a00d984a.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/12.78377211.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/13.0d7b83be.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/14.fe74ac8e.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/15.ec062ec6.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/16.a3e9d99e.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/17.0cec22b3.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/18.72c43d3e.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/19.8996e4d1.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/20.7d2f2085.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/21.0c0cb0f3.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/22.bc589ad8.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/23.f76fedab.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/24.23468354.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/25.5b502832.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/26.b3de52fe.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/27.c569e79c.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/28.b8cfcca0.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/29.e25f323f.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/3.d402d2ef.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/30.8d778487.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/31.49c25540.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/32.761afe67.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/33.56cbab27.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/34.ac7c9952.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/35.901d217b.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/36.cc5d1633.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/37.3d7b803b.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/38.92c732d9.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/39.2c738a8c.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/4.8aadd252.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/40.cd1c1d34.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/41.a889d12c.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/42.fd91663c.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/44.9ed3bf12.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/45.02294317.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/46.67f2da67.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/47.243ae9ce.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/48.1690a716.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/49.0331d4ec.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/5.fcf84bff.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/50.429f163c.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/6.af80b6c9.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/7.f26960d6.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/8.114a1bc9.js"><link rel="prefetch" href="/gshop-client_docs/assets/js/9.da87166a.js">
    <link rel="stylesheet" href="/gshop-client_docs/assets/css/0.styles.9c560553.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/gshop-client_docs/" class="home-link router-link-active"><img src="/gshop-client_docs/logo.png" alt="尚品汇商城-前台PC" class="logo"> <span class="site-name can-hide">尚品汇商城-前台PC</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="http://www.atguigu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  官网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="http://www.gulixueyuan.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  谷粒学院
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习路线" class="dropdown-title"><span class="title">学习路线</span> <span class="arrow down"></span></button> <button type="button" aria-label="学习路线" class="mobile-dropdown-title"><span class="title">学习路线</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.atguigu.com/web/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://www.atguigu.com/kecheng.shtml" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://www.atguigu.com/bigdata/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  大数据
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="http://www.atguigu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  官网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="http://www.gulixueyuan.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  谷粒学院
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习路线" class="dropdown-title"><span class="title">学习路线</span> <span class="arrow down"></span></button> <button type="button" aria-label="学习路线" class="mobile-dropdown-title"><span class="title">学习路线</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.atguigu.com/web/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://www.atguigu.com/kecheng.shtml" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://www.atguigu.com/bigdata/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  大数据
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/gshop-client_docs/chapter1/01_准备.html" class="sidebar-link">项目开发前准备</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>应用开发详解</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>相关文档</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>笔记列表</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/gshop-client_docs/chapter4/每日编码任务列表.html" class="sidebar-link">每日编码任务列表</a></li><li><a href="/gshop-client_docs/chapter4/每日面试题列表.html" class="sidebar-link">每日面试题列表</a></li><li><a href="/gshop-client_docs/chapter4/day01.html" class="sidebar-link">day01</a></li><li><a href="/gshop-client_docs/chapter4/day02.html" class="sidebar-link">day02</a></li><li><a href="/gshop-client_docs/chapter4/day03.html" class="sidebar-link">day03</a></li><li><a href="/gshop-client_docs/chapter4/day04.html" class="sidebar-link">day04</a></li><li><a href="/gshop-client_docs/chapter4/day05.html" aria-current="page" class="active sidebar-link">day05</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/gshop-client_docs/chapter4/day05.html#今日任务" class="sidebar-link">今日任务</a></li><li class="sidebar-sub-header"><a href="/gshop-client_docs/chapter4/day05.html#自定义分页组件" class="sidebar-link">自定义分页组件</a></li><li class="sidebar-sub-header"><a href="/gshop-client_docs/chapter4/day05.html#双向数据绑定-面试题" class="sidebar-link">双向数据绑定 面试题</a></li><li class="sidebar-sub-header"><a href="/gshop-client_docs/chapter4/day05.html#模板的数据来源" class="sidebar-link">模板的数据来源</a></li><li class="sidebar-sub-header"><a href="/gshop-client_docs/chapter4/day05.html#detail静态路由组件" class="sidebar-link">Detail静态路由组件</a></li><li class="sidebar-sub-header"><a href="/gshop-client_docs/chapter4/day05.html#detail组件的动态显示" class="sidebar-link">Detail组件的动态显示</a></li><li class="sidebar-sub-header"><a href="/gshop-client_docs/chapter4/day05.html#错误-typeerror-cannot-read-property-category1name-of-undefined" class="sidebar-link">错误: &quot;TypeError: Cannot read property 'category1Name' of undefined&quot;</a></li><li class="sidebar-sub-header"><a href="/gshop-client_docs/chapter4/day05.html#销售属性列表功能-大家自己做" class="sidebar-link">销售属性列表功能 (大家自己做)</a></li><li class="sidebar-sub-header"><a href="/gshop-client_docs/chapter4/day05.html#imagelist组件" class="sidebar-link">ImageList组件</a></li><li class="sidebar-sub-header"><a href="/gshop-client_docs/chapter4/day05.html#zoom组件" class="sidebar-link">Zoom组件</a></li><li class="sidebar-sub-header"><a href="/gshop-client_docs/chapter4/day05.html#编码分析" class="sidebar-link">编码分析</a></li></ul></li><li><a href="/gshop-client_docs/chapter4/day06.html" class="sidebar-link">day06</a></li><li><a href="/gshop-client_docs/chapter4/day07.html" class="sidebar-link">day07</a></li><li><a href="/gshop-client_docs/chapter4/day08.html" class="sidebar-link">day08</a></li><li><a href="/gshop-client_docs/chapter4/day09.html" class="sidebar-link">day09</a></li><li><a href="/gshop-client_docs/chapter4/项目总结.html" class="sidebar-link">项目总结</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="day05"><a href="#day05" class="header-anchor">#</a> day05</h1> <h2 id="今日任务"><a href="#今日任务" class="header-anchor">#</a> 今日任务</h2> <div class="language- extra-class"><pre><code>1). 自定义分页组件
2). Detail静态路由组件
3). Detail组件的动态显示
4). ImageList组件
5). Zoom组件
</code></pre></div><h2 id="自定义分页组件"><a href="#自定义分页组件" class="header-anchor">#</a> 自定义分页组件</h2> <div class="language- extra-class"><pre><code>直接使用已定义好的组件
	&lt;Pagination 
      :currentPage=&quot;options.pageNo&quot;
      :pageSize=&quot;options.pageSize&quot;
      :total=&quot;productList.total&quot;
      :showPageNo=&quot;5&quot;
      @currentChange=&quot;getProductList&quot;
    /&gt;
封装一个高复用的组件: Pagination      应该面试时交流
	静态模板与样式  ===&gt; 静态组件
	设计props: 从父组件接收的可变数据
		currentPage: 当前页码
		total: 总数量
		pageSize: 每页数量
		showPageNo: 连续页码数 (一般是奇数)
	
	设计data: 组件内部的可变数据
		myCurrentPage: 组件内部维护的当前页码
	
	设计computed: 根据props或data数据计算产生的数据
		totalPages: 总页数
			依赖数据: total / pageSize   19 / 2  10
			算法: Math.ceil(total/pageSize)
		start/end: 连续页码的开妈页码与结束页码
			依赖数据: myCurrentPage / showPageNo / totalPages
			算法:
				start的最小值是1
				end的最大值是totalPages
				从start到end的数量&lt;=showPageNo
					start = myCurrentPage - Math.floor(showPageNo/2)
					if (start&lt;1)  start = 1
					end = start + showPageNo -1
					if (end&gt;totalPages) {
						end = totalPages
						start = end - showPageNo + 1
						if (start&lt;1) start = 1
					}
					
					
	
	模板页面根据props/data/computed动态显示
		v-for/v-if/disabled
		v-for与v-if优先级问题    面试问

	v-for与v-if的优先级   面试题
      v-for的优先级高, 先执行, 每个遍历都会执行v-if
      1). 将v-if判断的处理放在v-for父标签上: 只需要判断一次(原本是每个遍历的元素都会判断)  ==&gt; 适用于判断与元素无关的情况
      2). 最好使用计算属性来去掉v-if  ===&gt; 减少遍历的次数 ==&gt; 适用于根据元素数据来判断的情况

	当用户操作时更新数据  ==&gt; 更新界面
		当当前组件更新数据后, 有可能需要通知父组件(使用什么技术? 自定义事件/函数props)
		当父组件的数据更新后, 有可能需要通知子组件
				父组件主动调用子组件的方法修改 ===&gt; 当前不用(后面会用的)
				子组件主动监视父组件的变化  ===&gt; 当前比较合适
</code></pre></div><h2 id="双向数据绑定-面试题"><a href="#双向数据绑定-面试题" class="header-anchor">#</a> 双向数据绑定 面试题</h2> <div class="language- extra-class"><pre><code>数据绑定:
	数据劫持: 通过definedProperty给data中所有层次属性加getter/setter  --&gt;observer
	订阅与发布: dep与watcher
双向(v-model=&quot;xxx&quot;):
	input事件监听: 将最新输入的数据保存到data中   this.xxx = event.target.value   // 数据代理

数组响应式处理: 重写数组一系列更新元素的方法(调用原生方法 ==&gt; 更新界面)
</code></pre></div><h2 id="模板的数据来源"><a href="#模板的数据来源" class="header-anchor">#</a> 模板的数据来源</h2> <div class="language- extra-class"><pre><code>data
props
computed: data/props/state/getters
</code></pre></div><h2 id="detail静态路由组件"><a href="#detail静态路由组件" class="header-anchor">#</a> Detail静态路由组件</h2> <div class="language- extra-class"><pre><code>定义Detail静态组件
注册路由
从Search跳转Detail组件: router-link/push()
问题: 路由跳转后, 滚动条没有停留在最上面(0,0)
	scrollBehavior (to, from, savedPosition) {
    	// return 期望滚动到哪个的位置
    	return { x: 0, y: 0 }
  	}
</code></pre></div><h2 id="detail组件的动态显示"><a href="#detail组件的动态显示" class="header-anchor">#</a> Detail组件的动态显示</h2> <div class="language- extra-class"><pre><code>api: getDetailInfo()
vuex: detail.js: state/mutations/actions/getters
component: dispatch()/mapState()/mapGetters()/模板
</code></pre></div><h2 id="错误-typeerror-cannot-read-property-category1name-of-undefined"><a href="#错误-typeerror-cannot-read-property-category1name-of-undefined" class="header-anchor">#</a> 错误: &quot;TypeError: Cannot read property 'category1Name' of undefined&quot;</h2> <div class="language- extra-class"><pre><code>说明: 在undefined上读取了category1Name属性
原因:  data/state中的数据初始值是一个空对象/空数组, 如果模板中直接写一个三层(a.b.c)表达式
解决1: 想办法不让detailInfo.categoryView的结果是undefined, 利用getters
解决2: 利用v-if来判断, 只有当有数据才解析显示,  ==&gt; 不能使用v-show

imageList[currentIndex].imgUrl    a.b.c  v-if=&quot;a.b&quot;  v-show=&quot;a.b&quot;
</code></pre></div><h2 id="销售属性列表功能-大家自己做"><a href="#销售属性列表功能-大家自己做" class="header-anchor">#</a> 销售属性列表功能 (大家自己做)</h2> <div class="language- extra-class"><pre><code>功能: 
	二层嵌套列表 
	点击某一项就选中对应的项
数据: 
	detailInfo中的spuSaleAttrList属性
	isChecked属性为'1'时代表是当前的

功能: 动态显示 / 交互
数据结构
</code></pre></div><h2 id="imagelist组件"><a href="#imagelist组件" class="header-anchor">#</a> ImageList组件</h2> <div class="language- extra-class"><pre><code>使用swiper显示小图片轮播列表:
	slidesPerView: 5,  // 一次显示5页
  	slidesPerGroup: 5, // 每次翻动多少(5)页
使用currentIndex标识当前图片下标, 点击时更新它
</code></pre></div><h2 id="zoom组件"><a href="#zoom组件" class="header-anchor">#</a> Zoom组件</h2> <div class="language- extra-class"><pre><code>根据传入的imgUrl和bigUrl来动态显示中图和大图
放大镜效果的布局:
	左侧:
		&lt;img&gt;: 显示中图
		event的&lt;div&gt;: 用来绑定mousemove事件, 尺寸与&lt;img&gt;一样
		mask的&lt;div&gt;: 遮罩, 尺寸是&lt;img&gt;的1/4
	右侧:
		big的&lt;div&gt;: 包含&lt;img&gt;, 尺寸与左侧&lt;img&gt;一样
		&lt;img&gt;: 显示大图, 尺寸是左侧&lt;img&gt;的4倍  ==&gt; 右侧只能看到大图的1/4部分
放大镜的事件处理
	绑定什么事件监听?
		mousemove
	给谁绑定?
		左侧的event &lt;div&gt;
	回调函数中做什么?
		计算left与top值:
			依赖数据: 事件的offsetX/offsetY, mask &lt;div&gt;的宽度maskWidth
			算法:
				left = offsetX - maskWidth/2
				top = offsetY - maskWidth/2
				left和top必须在[0, maskWidth]区间内

		指定mask &lt;div&gt;的坐标值(left, top)
			maskDiv.style.left = left + 'px'
			maskDiv.style.top = top + 'px'
		指定大图 &lt;img&gt;的坐标值(left, top)
			bigImg.style.left = -2 * left + 'px'
			bigImg.style.top = -2 * top + 'px'
</code></pre></div><h2 id="编码分析"><a href="#编码分析" class="header-anchor">#</a> 编码分析</h2> <div class="language- extra-class"><pre><code>ImageList
	读取vuex getters中的数据
	swiper
		slidesPerView: 5
		slidesPerGroup: 5
	currentIndex = 0
	点击某个小图更新Detail组件currentImageIndex(子向父通信)

Zoom
	props: imgUrl / bigUrl
	放大镜效果
		mousemove

Detail
	skuImageList
	currentImageIndex = 0
	skuImageList[currentImageIndex].imgUrl    v-if=&quot;skuImageList[currentImageIndex]&quot;
	&lt;Zoom :imgUrl=&quot;skuImageList[currentImageIndex].imgUrl&quot; v-if=&quot;skuImageList[currentImageIndex]&quot;/&gt;</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/gshop-client_docs/chapter4/day04.html" class="prev">
        day04
      </a></span> <span class="next"><a href="/gshop-client_docs/chapter4/day06.html">
        day06
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/gshop-client_docs/assets/js/app.daf59d08.js" defer></script><script src="/gshop-client_docs/assets/js/2.1de92273.js" defer></script><script src="/gshop-client_docs/assets/js/43.fd3ec932.js" defer></script>
  </body>
</html>
